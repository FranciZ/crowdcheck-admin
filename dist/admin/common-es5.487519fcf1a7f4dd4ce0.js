(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"H+bZ":function(t,e,o){"use strict";o.d(e,"a",(function(){return u}));var n=o("mrSG"),r=o("AytR"),i=o("CcnG"),s=o("t/Na"),u=function(){function t(t){this.http=t,this.BASE_URL=r.a.API.BASE_URL}return Object.defineProperty(t.prototype,"token",{get:function(){return localStorage.getItem("token")},set:function(t){localStorage.setItem("token",t)},enumerable:!0,configurable:!0}),t.prototype.logOut=function(){localStorage.removeItem("token")},t.prototype.login=function(t,e){return n.b(this,void 0,void 0,(function(){var o,r;return n.e(this,(function(n){switch(n.label){case 0:return[4,this.http.post(this.BASE_URL+"/v1/users/login",{email:t,password:e}).toPromise()];case 1:if(o=n.sent(),!(r=o.data).accessToken)throw new Error("Problem logging you in");return this.token=r.accessToken,[2,r]}}))}))},t.prototype.getHistoryItems=function(t){return void 0===t&&(t=1),n.b(this,void 0,void 0,(function(){return n.e(this,(function(e){switch(e.label){case 0:return[4,this.http.get(this.BASE_URL+"/v1/stores/updates?page="+t,{headers:{Authorization:this.token}}).toPromise()];case 1:return[2,e.sent().data[0]]}}))}))},t.prototype.deleteHistoryItem=function(t,e){return n.b(this,void 0,void 0,(function(){return n.e(this,(function(o){switch(o.label){case 0:return[4,this.http.delete(this.BASE_URL+"/v1/stores/"+t+"/history/"+e,{headers:{Authorization:this.token}}).toPromise()];case 1:return[2,o.sent().data]}}))}))},t.ngInjectableDef=i.Mb({factory:function(){return new t(i.Nb(s.c))},token:t,providedIn:"root"}),t}()}}]);